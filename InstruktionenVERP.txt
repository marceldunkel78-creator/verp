
Backend abhängigkeiten:
cd backend
python -m venv venv
.\venv\Scripts\Activate
pip install -r requirements.txt

migrationen: 
cd backend
python manage.py makemigrations
python manage.py migrate


Umgebungsvariablen konfigurieren (.env Datei):
- Kopiere backend/.env.example nach backend/.env
- Passe die Werte an:

  # Django Settings
  SECRET_KEY=dein-sicherer-key-hier
  DJANGO_DEBUG=True
  ALLOWED_HOSTS=localhost,127.0.0.1

  # Database
  DB_NAME=verp_db
  DB_USER=verp_user
  DB_PASSWORD=verp_password
  DB_HOST=localhost
  DB_PORT=5432

  # Media Storage - Absoluter Pfad zum externen Medienordner
  MEDIA_ROOT=C:/VERP-Media

- Generiere einen sicheren SECRET_KEY:
  cd backend
  python tools/generate_secret_key.py


Medien-Speicherstruktur (VERP-Media):
Der MEDIA_ROOT Ordner enthält alle hochgeladenen und generierten Dateien:
  /customer_orders/Jahr/Auftragsnummer/    - Kundenaufträge
  /orders/Jahr/Bestellnummer/              - Lieferantenbestellungen
  /quotations/Jahr/Angebotsnummer/         - Angebote
  /Systems/Systemnummer/                   - Systeme
  /projects/Projektnummer/                 - Projekte
  /HR/Mitarbeiternummer/                   - Personal (DSGVO-geschützt)
  /Trading Goods/VS-Artikelnummer/         - Handelswaren
  /M&S/VS-Artikelnummer/                   - Material & Supplies
  /Service/Serviceticketnummer/            - Service-Tickets
  /Manufacturing/Produktnummer/            - Fertigung
  /VisiView/Lizenznummer/                  - VisiView Lizenzen
  /company/                                - Firmenlogos/Header


Superuser erstellen bei activated venv
python manage.py createsuperuser


Testdaten erstellen:
python manage.py create_test_data
# Erstellt: 5 Lieferanten, 7 Handelswaren, 5 Material & Supplies, 4 Assets, 12 Kunden


Firmeneinstellungen konfigurieren:
1. Admin-Interface öffnen: http://localhost:8000/admin
2. Unter "Firmeneinstellungen" → "Company Settings" die Firmendaten eintragen
3. Dokument-Header hochladen (visitron_document_header.png)
4. Bankverbindung, Geschäftsführer, Handelsregister-Nr. eintragen


Bestelldokumente:
- Beim Erstellen/Bearbeiten einer Bestellung können Sie:
  * Ein Bestelldokument hochladen (z.B. PDF von Online-Bestellung)
  * Ein professionelles PDF-Bestelldokument generieren (Button "Speichern und PDF generieren")
- Das generierte PDF enthält:
  * Firmen-Logo (aus Company Settings)
  * Lieferantenadresse
  * Bestellpositionen mit allen Details
  * Footer mit Firmendaten, Bankverbindung und rechtlichen Informationen
- HINWEIS: PDFs werden nur beim Klick auf "Speichern und PDF generieren" erstellt,
  nicht bei jedem Speichervorgang.


server starten :

# Backend (Terminal 1)
cd backend
python manage.py runserver

# Frontend (Terminal 2)
cd frontend
npm start


# Ins Backend-Verzeichnis wechseln
cd backend

# DRY-RUN (Vorschau ohne Änderungen)
python import_addresses.py

# ECHTER IMPORT (importiert ~7.500 Kunden mit Adressen, Telefonnummern, E-Mails)
python import_addresses.py --live

# Hinweis: Der Import filtert automatisch Lieferanten und veraltete Adressen aus.
# Bei identischen Namen werden mehrere Adressen dem selben Kunden zugeordnet.
# Felder die zu lang sind werden automatisch gekürzt (Stadt: 100, Straße: 200, Tel: 50 Zeichen)